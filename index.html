<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Simulación de Toma de Decisiones</title>
    <!-- Agregar enlace al CDN de Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body class="bg-light d-flex align-items-center justify-content-center" style="height: 100vh;">

    <div class="container text-center">
        <h1 class="mb-4">Simulación de Toma de Decisiones</h1>

        <div class="form-row align-items-center">
            <div class="col-auto mb-3">
                <label for="filas" class="sr-only">Número de Filas:</label>
                <input type="number" id="filas" class="form-control" value="2">
            </div>

            <div class="col-auto mb-3">
                <label for="columnas" class="sr-only">Número de Columnas:</label>
                <input type="number" id="columnas" class="form-control" value="2">
            </div>

            <div class="col-auto mb-3">
                <button onclick="generarTabla()" class="btn btn-primary">Generar Tabla</button>
            </div>
        </div>

        <div id="botones" class="mb-3"></div>

        <p class="lead">Resultado: <span id="resultado"></span></p>
    </div>

    <!-- Agregar enlace al CDN de Bootstrap JS y Popper.js (necesario para algunos componentes de Bootstrap) -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-U1ZRNsJ6v5ubc1z1szFIHA9UJs5GBG3p4eDO1/d3vHc1LoDqOXZ7HZ6AaF1bMI1n" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+bYc44J" crossorigin="anonymous"></script>

    <script>
        function generarTabla() {
            const filas = parseInt(document.getElementById("filas").value);
            const columnas = parseInt(document.getElementById("columnas").value);

            let tablaHTML = '<table border="1">';
            for (let i = 0; i < filas; i++) {
                tablaHTML += '<tr>';
                for (let j = 0; j < columnas; j++) {
                    tablaHTML += '<td><input type="number" id="opcion_' + i + '_' + j + '"></td>';
                }
                tablaHTML += '</tr>';
            }
            tablaHTML += '</table>';

            // Insertar la tabla en el cuerpo del documento.
            document.body.insertAdjacentHTML('beforeend', tablaHTML);

            // Generar botones debajo de la tabla.
            const botonesHTML = '<button onclick="tomarDecision(\'Optimista\')">Optimista</button>' +
                                '<button onclick="tomarDecision(\'Pesimista\')">Pesimista</button>' +
                                '<button onclick="tomarDecision(\'Hurwicz\')">Hurwicz</button>' +
                                '<button onclick="tomarDecision(\'Laplace\')">Laplace</button>' +
                                '<button onclick="tomarDecision(\'Savage\')">Savage</button>';

            document.getElementById("botones").innerHTML = botonesHTML;
        }

        function tomarDecision(criterio) {
            const filas = parseInt(document.getElementById("filas").value);
            const columnas = parseInt(document.getElementById("columnas").value);

            let decisiones = [];

            for (let i = 0; i < filas; i++) {
                decisiones[i] = [];
                for (let j = 0; j < columnas; j++) {
                    // Obtener el valor de cada celda en la tabla.
                    const valor = parseFloat(document.getElementById("opcion_" + i + "_" + j).value) || 0;
                    decisiones[i][j] = valor;
                }
            }

            let resultado = '';

            switch (criterio) {
                case 'Optimista':
                    resultado = criterioOptimista(decisiones);
                    break;
                case 'Pesimista':
                    resultado = criterioPesimista(decisiones);
                    break;
                case 'Hurwicz':
                    resultado = criterioHurwicz(decisiones, 0.7); // Puedes ajustar el parámetro alfa según tus necesidades.
                    break;
                case 'Laplace':
                    resultado = criterioLaplace(decisiones);
                    break;
                case 'Savage':
                    resultado = criterioSavage(decisiones);
                    break;
                default:
                    resultado = 'Criterio no reconocido';
            }

            // Mostrar el resultado en la página.
            const resultadoElement = document.getElementById("resultado");
            resultadoElement.textContent = resultado;
        }

        function criterioOptimista(decisiones) {
            // Implementa el criterio optimista (maximizar los mejores resultados).
            // Puedes personalizar este criterio según tus necesidades.
            // Aquí simplemente se selecciona el valor máximo de la tabla.
            let maxValor = -Infinity;

            for (let i = 0; i < decisiones.length; i++) {
                for (let j = 0; j < decisiones[i].length; j++) {
                    maxValor = Math.max(maxValor, decisiones[i][j]);
                }
            }

            return `Criterio Optimista: Elegir la opción con el valor máximo (${maxValor}).`;
        }

        function criterioPesimista(decisiones) {
            // Implementa el criterio pesimista (minimizar los peores resultados).
            // Puedes personalizar este criterio según tus necesidades.
            // Aquí simplemente se selecciona el valor mínimo de la tabla.
            let minValor = Infinity;

            for (let i = 0; i < decisiones.length; i++) {
                for (let j = 0; j < decisiones[i].length; j++) {
                    minValor = Math.min(minValor, decisiones[i][j]);
                }
            }

            return `Criterio Pesimista: Elegir la opción con el valor mínimo (${minValor}).`;
        }

        function criterioHurwicz(decisiones, alfa) {
            // Implementa el criterio de Hurwicz (combinación lineal de mejor y peor resultado).
            // Puedes personalizar este criterio ajustando el valor de alfa (entre 0 y 1).
            let maxValor = -Infinity;
            let minValor = Infinity;

            for (let i = 0; i < decisiones.length; i++) {
                for (let j = 0; j < decisiones[i].length; j++) {
                    maxValor = Math.max(maxValor, decisiones[i][j]);
                    minValor = Math.min(minValor, decisiones[i][j]);
                }
            }

            const valorHurwicz = alfa * maxValor + (1 - alfa) * minValor;

            return `Criterio de Hurwicz: Elegir la opción con el valor combinado (${valorHurwicz}).`;
        }

        function criterioLaplace(decisiones) {
            // Implementa el criterio de Laplace (valor esperado uniforme).
            // Puedes personalizar este criterio según tus necesidades.
            // Aquí simplemente se calcula el valor esperado promedio de la tabla.
            let sumaValores = 0;

            for (let i = 0; i < decisiones.length; i++) {
                for (let j = 0; j < decisiones[i].length; j++) {
                    sumaValores += decisiones[i][j];
                }
            }

            const valorEsperado = sumaValores / (decisiones.length * decisiones[0].length);

            return `Criterio de Laplace: Elegir la opción con el valor esperado promedio (${valorEsperado}).`;
        }

        function criterioSavage(decisiones) {
            // Implementa el criterio de Savage (mínima pérdida).
            // Puedes personalizar este criterio según tus necesidades.
            // Aquí simplemente se selecciona la opción que minimiza la pérdida esperada.
            const perdidasEsperadas = [];

            for (let i = 0; i < decisiones[0].length; i++) {
                const columnValues = decisiones.map(row => row[i]);
                const maxValor = Math.max(...columnValues);
                perdidasEsperadas.push(maxValor - columnValues);
            }

            const sumasPerdidas = perdidasEsperadas.map(row => row.reduce((acc, val) => acc + val, 0));
            const maxPerdidaEsperada = Math.max(...sumasPerdidas);
            const mejorDecisionIndex = sumasPerdidas.indexOf(maxPerdidaEsperada);

            return `Criterio de Savage: Elegir la opción que minimiza la pérdida esperada (${maxPerdidaEsperada}), tomando la decisión en la columna ${mejorDecisionIndex + 1}.`;
        }
    </script>
</body>
</html>

